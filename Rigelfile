# This Rigelfile file was automatically generated by Robotair.
# Feel free to alter it according to your needs.

# For more information on Rigel and Rigelfiles visit:
# https://github.com/rigel-ros/rigel
---

vars:
    distro: "humble"

application:
    distro: "{{ vars.distro }}"


jobs:

    dockerfile:
        plugin: "rigel.plugins.core.DockerfilePlugin"
        with:ros_image: "docker.io/library/ros:{{ vars.distro }}"
        
            compiler:
                name: "colcon"
            username: "robotair"

    build:
        plugin: "rigel.plugins.core.BuildXPlugin"
        with:
            image: "minha-app-empacotada"
            tags:
                - "latest"
            load: False
            push: True



sequences:

    robotair:
        stages:
            -
                jobs:
                    - "dockerfile"
                    - "build"